
programa ejemplo
procesos
  proceso recorrerAvenida(ES contFlores:numero)
  comenzar
    Pos(PosAv, PosCa)
    repetir 9
      mientras HayFlorEnLaEsquina
        tomarFlor
        contFlores := contFlores + 1    
      mover
  fin

  proceso calcularMaximo(E contFlores:numero; E floresJuntadasR1:numero; ES robotMax:numero; ES dif:numero)
  comenzar
    si contFlores > floresJuntadasR1
      robotMax := 2 {robot 2}
      dif := contFlores - floresJuntadasR1
    sino 
      robotMax := 1
      dif := contFlores - floresJuntadasR1
  fin
areas
  ciudad: AreaC (1,1,100,100)
robots
  robot robot1
  variables
    contFlores:numero
  comenzar
    contFlores := 0
    recorrerAvenida(contFlores)
    EnviarMensaje(contFlores,r2)
  fin
  
  robot robot2
  variables
    contFlores, floresJuntadasR1, robotMax, dif:numero
  comenzar 
    contFlores := 0
    recorrerAvenida(contFlores)
    RecibirMensaje(floresJuntadasR1,r1)
    calcularMaximo(contFlores,floresJuntadasR1, robotMax, dif)
    Informar(robotMax)
    Informar(dif)
  fin
variables
  r1: robot1
  r2: robot2
comenzar
  AsignarArea(r1, ciudad)
  AsignarArea(r2, ciudad)
  Iniciar(r1, 1,1)
  Iniciar(r2, 2,11)
fin



{Los robots deben ser de distinto tipo solo por la coordinaci√≥n de mensajes, no por el recorrido ni por la tarea de juntar flores.}