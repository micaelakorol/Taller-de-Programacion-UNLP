programa ejemplo
procesos
  proceso depositarFlores(E f:numero)
  variables 
    aux:numero
  comenzar
    repetir f
      depositarFlor
  fin 
  proceso juntarFlores
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
  fin
  
  proceso depositarFloresAv(E av:numero; ES caAct:numero)
  comenzar
  {Toma todas las flores}
    mientras HayFlorEnLaEsquina
      tomarFlor
    Pos(av,caAct) {vuelve a su pos}
    si HayFlorEnLaBolsa
      depositarFlor
      mover
      caAct := PosCa {actualizo la calle}
  fin
  
areas
  ciudad: AreaC (1,1,100,100)
robots
  robot cliente
  variables
    quienSoy,av,ca,aux, caAct:numero
    ok:boolean
  comenzar
    ok := F
    av := PosAv {av,ca es la esquina fija donde se debe depositar}
    caAct := PosCa
    ca := PosCa + 1
    RecibirMensaje(quienSoy,rs) {c/u recibe quien es}
    mientras PosCa < 100
      Random(aux,1,4) {genera el random}
      ca := PosCa + 1
      EnviarMensaje(quienSoy,rs)
      EnviarMensaje(av,rs)
      EnviarMensaje(ca,rs)
      EnviarMensaje(aux,rs) {cant de flores a depositar}
      RecibirMensaje(ok, rs) {el robot termino de depositarle las flores}
      {----espera------}
      Pos(av,ca)
      depositarFloresAv(av,caAct) 
    EnviarMensaje(0,rs) {sale del mientras y termina toda su avenida--------------}
  fin
  
  robot servidor
  variables
    id, av,ca,f,final:numero
  comenzar
    final := 0
    juntarFlores {lo mando a una avenida x y  que junte flores, si no, no tiene para depositar}
    EnviarMensaje(1,c1)
    EnviarMensaje(2,c2)
    EnviarMensaje(3,c3)    
    {Recibe la esquina de c/ robot donde le va a depositar las flores}
    mientras final < 3
      RecibirMensaje(id,*)
      si id = 1
        RecibirMensaje(av, c1)
        RecibirMensaje(ca, c1)
        RecibirMensaje(f, c1) {cant de flores a depositar}
        Pos(av,ca)
        depositarFlores(f) {deposita las flores en la esquina +1 correspondiente av,ca+1}
        Pos(100,100)
        EnviarMensaje(V, c1) {avisa que termino al cliente}
      sino
        si id = 2
          RecibirMensaje(av,c2)
          RecibirMensaje(ca, c2)
          RecibirMensaje(f, c2)
          Pos(av,ca)
          depositarFlores(f) {deposita las flores en la esquina +1 correspondiente av,ca+1}
          Pos(100,100)
          EnviarMensaje(V, c2)
        sino
          si id = 3
            RecibirMensaje(av, c3)
            RecibirMensaje(ca, c3)
            RecibirMensaje(f, c3)
            Pos(av,ca)
            depositarFlores(f) {deposita las flores en la esquina +1 correspondiente av,ca+1}
            Pos(100,100)
            EnviarMensaje(V, c3)
          sino 
            final := final + 1 {Si no es id 0 , 1, 2, o 3 se asume que el robot termino.}
  fin
  
variables
  c1,c2,c3: cliente
  rs: servidor
comenzar
  AsignarArea(c1, ciudad)
  AsignarArea(c2, ciudad)
  AsignarArea(c3, ciudad)  
  AsignarArea(rs, ciudad)
  Iniciar(c1, 1,1)
  Iniciar(c2, 2,1)
  Iniciar(c3, 3,1)
  Iniciar(rs, 100,100)
fin